version: "3.3"

services:
  app:
    privileged: true
    #image: portainer/portainer
    image: home-reverse-proxy
    restart: always
    networks:
      - web
    expose:
      - "8080"
    ports:
      - 8080:8080
    #labels:
      #- "traefik.docker.network=web"
      #- "traefik.enable=true"
      #- "traefik.http.routers.portainer.entrypoints=http"
      #- "traefik.http.routers.portainer.rule=Host(`portainer.admin-docker.astro.uni-bonn.de`)"
      #- "traefik.http.middlewares.portainer-https-redirect.redirectscheme.scheme=https"
      #- "traefik.http.routers.portainer.middlewares=portainer-https-redirect"
      #- "traefik.http.routers.portainer-secure.entrypoints=https"
      #- "traefik.http.routers.portainer-secure.rule=Host(`portainer.admin-docker.astro.uni-bonn.de`)"
      #- "traefik.http.routers.portainer-secure.tls=true"
      #- "traefik.http.routers.portainer-secure.tls.certresolver=http"
      #- "traefik.http.routers.portainer-secure.service=portainer"
      #- "traefik.http.services.portainer.loadbalancer.server.port=9000"
    volumes:
      - ./hrp_config.yaml:/hrp_config.yaml
      - /var/run/docker.sock:/var/run/docker.sock
      - /users:/users
      - /vol:/vol
     

networks:
  web:
    external: true

